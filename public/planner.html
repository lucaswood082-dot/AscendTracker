<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Ascend Planner</title>
<link rel="stylesheet" href="style.css" />

<style>
/* ---------- BASE ---------- */
body {
  margin: 0;
  background: #020617;
  color: #e5e7eb;
  font-family: system-ui, -apple-system, BlinkMacSystemFont;
}

/* ---------- TOP NAV ---------- */
.top-nav {
  padding: 1rem;
  text-align: center;
  font-weight: 600;
  font-size: 1.2rem;
  color: #38bdf8;
  border-bottom: 1px solid #1f2937;
  background: #020617;
}

/* ---------- PAGE ---------- */
.page {
  padding: 1rem;
  padding-bottom: 140px;
}

.container {
  max-width: 480px;
  margin: 0 auto;
}

/* ---------- CARDS ---------- */
.card {
  background: #111827;
  border: 1px solid #1f2937;
  border-radius: 16px;
  padding: 1.25rem;
  margin-bottom: 1rem;
}

/* ---------- INPUTS (NO ZOOM FIX) ---------- */
input,
textarea {
  width: 100%;
  box-sizing: border-box;
  background: #020617;
  border: 1px solid #1f2937;
  border-radius: 12px;
  padding: 0.75rem 0.9rem;
  margin-bottom: 0.75rem;
  color: #e5e7eb;
  font-size: 16px; /* CRITICAL: prevents mobile zoom */
}

textarea {
  min-height: 70px;
  resize: vertical;
}

/* ---------- BUTTON ---------- */
button {
  width: 100%;
  padding: 0.8rem;
  border-radius: 12px;
  border: none;
  background: #38bdf8;
  color: #020617;
  font-weight: 600;
  font-size: 1rem;
  cursor: pointer;
}

/* ---------- SCHEDULED WORKOUTS ---------- */
.schedule-box {
  margin-top: 0.5rem;
  max-height: 260px;        /* BIGGER */
  overflow-y: auto;         /* SCROLLABLE */
  padding-right: 0.25rem;
}

.workout-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: #020617;
  border: 1px solid #1f2937;
  border-radius: 12px;
  padding: 0.65rem 0.75rem;
  margin-bottom: 0.5rem;
}

.workout-text {
  font-size: 0.95rem;
  line-height: 1.3;
}

/* ---------- REMOVE BUTTON ---------- */
.remove-btn {
  background: transparent;
  border: none;
  color: #ef4444;
  font-size: 1.2rem;
  cursor: pointer;
}

/* ---------- EMPTY STATE ---------- */
.empty {
  text-align: center;
  opacity: 0.6;
  font-size: 0.95rem;
}
</style>
</head>

<body>

<div class="top-nav">Ascend</div>

<div class="page">
  <div class="container">

    <!-- ADD WORKOUT -->
    <div class="card">
      <h3>Add Workout</h3>

      <input
        type="text"
        id="plannerWorkoutName"
        placeholder="Workout name"
      />

      <!-- REDESIGNED DATE PICKER -->
      <input
        type="date"
        id="plannerWorkoutDate"
      />

      <textarea
        id="plannerWorkoutNotes"
        placeholder="Notes (optional)"
      ></textarea>

      <button id="addPlannerWorkoutBtn">Add Workout</button>
    </div>

    <!-- SCHEDULED WORKOUTS -->
    <div class="card">
      <h3>Scheduled Workouts</h3>

      <div id="workoutList" class="schedule-box">
        <p class="empty">No workouts scheduled</p>
      </div>
    </div>

  </div>
</div>

<script>
const workoutListEl = document.getElementById("workoutList");
let plannerData = JSON.parse(localStorage.getItem("planner")) || {};

/* ---------- RENDER ---------- */
function renderWorkouts() {
  workoutListEl.innerHTML = "";

  const dates = Object.keys(plannerData).sort();

  if (dates.length === 0) {
    workoutListEl.innerHTML =
      '<p class="empty">No workouts scheduled</p>';
    return;
  }

  dates.forEach(date => {
    const w = plannerData[date];

    const item = document.createElement("div");
    item.className = "workout-item";

    const text = document.createElement("div");
    text.className = "workout-text";
    text.innerHTML = `<strong>${w.name}</strong><br>${date}${w.notes ? " • " + w.notes : ""}`;

    const remove = document.createElement("button");
    remove.className = "remove-btn";
    remove.textContent = "×";
    remove.onclick = () => {
      delete plannerData[date];
      localStorage.setItem("planner", JSON.stringify(plannerData));
      renderWorkouts();
    };

    item.appendChild(text);
    item.appendChild(remove);
    workoutListEl.appendChild(item);
  });
}

/* ---------- ADD ---------- */
document.getElementById("addPlannerWorkoutBtn").onclick = () => {
  const name = plannerWorkoutName.value.trim();
  const date = plannerWorkoutDate.value;
  const notes = plannerWorkoutNotes.value.trim();

  if (!name || !date) return alert("Enter name and date");

  plannerData[date] = { name, notes };
  localStorage.setItem("planner", JSON.stringify(plannerData));

  plannerWorkoutName.value = "";
  plannerWorkoutDate.value = "";
  plannerWorkoutNotes.value = "";

  renderWorkouts();
};

renderWorkouts();
</script>

</body>
</html>
